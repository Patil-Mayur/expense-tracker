{"version":3,"sources":["components/Header.js","context/AppReducer.js","context/GlobalState.js","components/Balance.js","components/IncomeExpenses.js","components/Transaction.js","components/TransactionList.js","components/AddTransaction.js","App.js","index.js"],"names":["Header","state","action","type","transactions","payload","loading","filter","_id","error","initialState","GlobalContext","createContext","GlobalProvider","children","useReducer","AppReducer","dispatch","a","axios","get","res","data","transactionError","e","response","id","delete","transaction","config","headers","post","Provider","value","getTransactions","deleteTransaction","addTransaction","Balance","total","useContext","reduce","acc","amount","toFixed","sign","Intl","NumberFormat","format","Math","abs","displayAmount","IncomeExpenses","income","expense","className","Transaction","classVal","text","onClick","TransactionList","useEffect","map","key","AddTransaction","useState","setText","setAmount","onSubmit","preventDefault","newTransaction","Date","valueOf","htmlFor","onChange","target","placeholder","App","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.6932a377.chunk.js","sourcesContent":["import React from 'react'\n\nexport const Header = () => {\n    return (\n        <h2>\n            Expense Tracker\n        </h2>\n    )\n}\n","export default (state, action) => {\n    \n    switch(action.type) {\n        case 'GET_TRANSACTIONS':\n            return {\n                ...state, transactions: action.payload, loading: false\n            }\n        case 'DELETE_TRANSACTION':\n            return {\n                ...state, transactions : state.transactions.filter(({_id}) => _id !== action.payload)\n            }\n        case 'ADD_TRANSACTION':\n            return {\n                ...state, transactions: [...state.transactions, action.payload]\n            }\n        case 'TRANSACTION_ERROR':\n            return {\n                ...state, error: action.payload\n            }\n                \n        default:\n            return state;\n    }\n}","import React, { createContext, useReducer} from 'react';\nimport AppReducer from './AppReducer';\nimport axios from 'axios'\n\n\n// Initial State\nconst initialState = {\n    transactions: [],\n    error: null,\n    loading:true\n}\n\n//create context\nexport const GlobalContext = createContext(initialState);\n\n// Provider component\n\nexport const GlobalProvider = ({children}) => {\n    const [state, dispatch] = useReducer(AppReducer, initialState);\n\n    //Actions\n    async function getTransactions() {\n        try {\n            const res = await axios.get('/api/v1/transactions');\n            dispatch({\n                type: 'GET_TRANSACTIONS',\n                payload: res.data.data\n            })\n        } catch (e) {\n           transactionError(e);\n        }\n    }\n\n    function transactionError(e) {\n        dispatch({\n            type: 'TRANSACTION_ERROR',\n            payload: e.response.data.error\n        })\n    }\n\n    async function deleteTransaction(id) {\n        try {\n            await axios.delete(`/api/v1/transactions/${id}`);\n            dispatch({\n                type: 'DELETE_TRANSACTION',\n                payload: id\n            })\n        } catch (e) {\n            transactionError(e);\n        }\n    }\n\n    async function addTransaction(transaction) {\n        const config = {\n            headers: {\n                'Content-type':'application/json'\n            }\n        }\n        try {\n            const res = await axios.post('api/v1/transactions', transaction, config);\n            dispatch({\n                type: 'ADD_TRANSACTION',\n                payload: res.data.data\n            });\n        } catch(e) {\n            transactionError(e);\n        }\n        \n    }\n\n    return (\n        <GlobalContext.Provider value={{\n            transactions: state.transactions,\n            loading: state.loading,\n            error: state.error,\n            getTransactions,\n            deleteTransaction,\n            addTransaction\n        }}>\n            {children}\n        </GlobalContext.Provider>\n    )\n}","import React, {useContext} from 'react'\nimport { GlobalContext } from '../context/GlobalState'\n\nexport const Balance = () => {\n    const {transactions} = useContext(GlobalContext);\n    const total = transactions.reduce((acc, {amount}) => (acc += amount) , 0).toFixed(2);\n    const sign = total < 0 ? '-' : '';\n    const currencySymbol = '₹';\n    const amount = new Intl.NumberFormat('en-IN').format(Math.abs(total));\n    const displayAmount = `${sign}${currencySymbol}${amount}`\n    return (\n        <>\n            <h4>Your Balance</h4>\n            <h1>{displayAmount}</h1>\n        </>\n    )\n}\n","import React, {useContext} from 'react'\nimport { GlobalContext } from '../context/GlobalState'\n\nexport const IncomeExpenses = () => {\n    const {transactions} = useContext(GlobalContext);\n\n    let income = transactions.reduce((acc, {amount}) => (acc+= amount > 0 ? amount : 0), 0).toFixed(2);\n    let expense = Math.abs(transactions.reduce((acc, {amount}) => (acc+= amount < 0 ? amount : 0), 0)).toFixed(2);\n    income = new Intl.NumberFormat('en-IN').format(income);\n    expense = new Intl.NumberFormat('en-IN').format(expense);\n    return (\n        <div className=\"inc-exp-container\">\n            <div>\n                <h4>Income</h4>\n                <p id=\"money-plus\" className=\"money plus\">+₹{income}</p>\n            </div>\n            <div>\n                <h4>Expense</h4>\n                <p id=\"money-minus\" className=\"money minus\">-₹{expense}</p>\n            </div>\n        </div>\n    )\n}\n","import React, {useContext} from 'react'\nimport { GlobalContext } from '../context/GlobalState';\n\nexport const Transaction = ({transaction}) => {\n\n    const {deleteTransaction} = useContext(GlobalContext);\n\n    const sign = transaction.amount < 0 ? '-' : '+';\n    const classVal = transaction.amount < 0 ? 'minus' : 'plus';\n    const currencySymbol = '₹';\n    const amount = new Intl.NumberFormat('en-IN').format(Math.abs(transaction.amount));\n    const displayAmount = `${sign}${currencySymbol}${amount}`;\n    return (\n        <li className={classVal}>\n            {transaction.text} <span>{displayAmount}</span><button onClick={() => deleteTransaction(transaction._id)} className=\"delete-btn\">x</button>\n        </li>\n    )\n}\n","import React, {useContext, useEffect} from 'react';\nimport { GlobalContext } from '../context/GlobalState';\nimport { Transaction } from './Transaction';\n\n\nexport const TransactionList = () => {\n\n    const {transactions, getTransactions} = useContext(GlobalContext);\n\n    useEffect(() => {\n        getTransactions();\n        // eslint -disable-next-line react-hooks/exhaustive-deps\n    }, []);\n\n    return (\n        <>\n            <h3>History</h3>\n            <ul id=\"list\" className='list'>\n                {transactions.map(transaction => (<Transaction key={transaction._id} transaction={transaction} />))}\n            </ul>\n        </>\n    )\n}\n","import React, {useState, useContext} from 'react'\nimport { GlobalContext } from '../context/GlobalState';\n\nexport const AddTransaction = () => {\n    const [text, setText] = useState('');\n    const [amount, setAmount] = useState(0);\n    const {addTransaction} = useContext(GlobalContext);\n\n    const onSubmit = e => {\n        e.preventDefault();\n        const newTransaction = {\n            id: new Date().valueOf(),\n            amount: +amount,\n            text\n        }\n        addTransaction(newTransaction);\n    }\n\n    return (\n        <>\n        <h3>Add new transaction</h3>\n        <form onSubmit={onSubmit}>\n          <div className=\"form-control\">\n            <label htmlFor=\"text\">Text</label>\n            <input type=\"text\" value={text} onChange={(e) => setText(e.target.value)} placeholder=\"Enter text...\" />\n          </div>\n          <div className=\"form-control\">\n            <label htmlFor=\"amount\"\n              >Amount <br />\n              (negative - expense, positive - income)</label\n            >\n            <input type=\"number\" value={amount} onChange={(e) => setAmount(e.target.value)} placeholder=\"Enter amount...\" />\n          </div>\n          <button className=\"btn\">Add transaction</button>\n        </form>\n      </>\n    )\n}\n","import React  from 'react';\nimport './App.css'\nimport { Header } from './components/Header';\nimport { Balance } from './components/Balance';\nimport { IncomeExpenses } from './components/IncomeExpenses';\nimport { TransactionList } from './components/TransactionList';\nimport { AddTransaction } from './components/AddTransaction';\nimport { GlobalProvider } from './context/GlobalState';\n\nfunction App() {\n    return (\n        <GlobalProvider>\n            <Header />\n            <div className=\"container\">\n                <Balance />\n                <IncomeExpenses />\n                <TransactionList />\n                <AddTransaction />\n            </div>\n        </GlobalProvider>\n    )\n}\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));"],"sourceRoot":""}